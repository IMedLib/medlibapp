!function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var o=r(1);$(document).ready(function(){function e(e){return 11===e.length&&/^(((13)|(15)|(17)|(18))+\d{9})$/.test(e)?!0:!1}function t(e){$.getJSON(i+"/Captcha/Add",{mobile:e}).done(function(e){return 0!==e.code?($("#codeErr").text(""===e.msg?"获取失败，请重新尝试！":e.msg).fadeOut(5e3),!1):void $("#code").val(e.verifycode)}).fail(function(){$("#codeErr").text("请求超时！").fadeOut(5e3)})}function r(e){0===n?(e.removeAttr("disabled"),e.text("点击获取验证码"),n=60):(e.attr("disabled",!0),e.text("重新发送("+n+")"),n--,setTimeout(function(){r(e)},1e3))}var n=60,i="http://121.41.92.56:8002/";$("form").submit(function(){var t=$("#mobile").val(),r=$("#code").val();return e(t)?(6!=r.length&&$("#codeErr").text("验证码错误！").fadeOut(5e3),$.getJSON(i+"User/Add/Reg/",{mobile:t,recuid:$("#recuid").val(),verifycode:r}).done(function(e){if(0!==e.code)return $("#registerErr").text(""===e.msg?"注册失败，请重新尝试！":e.msg).fadeOut(5e3),!1;if(""!==e.token&&""!==e.key){var t=(new Date).getDate()+7;o.setCookie("key",e.key,t),o.setCookie("token",e.token,t),window.location.href="/"}}).fail(function(){$("#registerErr").text("请求超时！").fadeOut(5e3)}),!1):($("#mobileErr").text("非法手机号码！").fadeOut(5e3),!1)}),$("#codeGet").on("click",function(){var o=$("#mobile").val();return e(o)?(r($(this)),void t(o)):($("#mobileErr").text("非法手机号码！").fadeOut(5e3),!1)})})},function(e,t){e.exports={setCookie:function(e,t,r,o,n,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(r)switch(r.constructor){case Number:a=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:a="; expires="+r;break;case Date:a="; expires="+r.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(n?"; domain="+n:"")+(o?"; path="+o:"")+(i?"; secure":""),!0}}}]);